# Disable container-level security context globally
containerSecurityContext:
  enabled: false

# Artifactory pod-level security context
artifactory:
  podSecurityContext:
    enabled: false
  primary:
    javaOpts: {}       # Prevent nil pointer in templates
  database:
    maxOpenConnections: 50
  tomcat:
    connector:
      maxThreads: 200
      sendReasonPhrase: true
      extraConfig: ""
  worker:
    enabled: false

# RTFS (if used)
rtfs:
  podSecurityContext:
    enabled: false
  containerSecurityContext:
    enabled: false
  enabled: false

# PostgreSQL (internal Helm chart)
postgresql:
  enabled: true
  primary:
    podSecurityContext:
      enabled: false
    securityContext:
      enabled: false
    containerSecurityContext:
      enabled: false
    service:
      ports:
        postgresql: 5432
    auth:
      database: artifactory
      username: artifactory
      password: changeme

# Nginx (for Artifactory 7.77.3+)
nginx:
  podSecurityContext:
    enabled: false
  containerSecurityContext:
    enabled: false

# Router service (needed for templates)
router:
  serviceRegistry:
    insecure: false

# Database fallback
database:
  allowNonPostgresql: false
  type: postgresql
  driver: org.postgresql.Driver

# Logging (avoid nil pointers)
logging:
  logToStdoutJson: false
artifactory:
  consoleLog: true

# Frontend session
frontend:
  session:
    timeoutMinutes: 30

# Access service defaults
access:
  database:
    maxOpenConnections: 50
  tomcat:
    connector:
      maxThreads: 200
      sendReasonPhrase: true
      extraConfig: ""
  javaOpts: {}

# Optional: disable optional services
jfconnect:
  enabled: false
jfbus:
  enabled: false
platformFederation:
  enabled: false
onemodel:
  enabled: false
topology:
  enabled: false
jfconfig:
  enabled: false
event:
  webhooks: []
evidence:
  enabled: false
